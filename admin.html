<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Admin ‚Äî Carabineros Intranet</title>
  <link rel="stylesheet" href="css/colors.css">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    body { background: #f0f4f0; }

    /* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
    .layout { display: flex; min-height: 100vh; }
    .sidebar {
      width: 240px; background: linear-gradient(180deg, #023d17 0%, #04742c 100%);
      flex-shrink: 0; display: flex; flex-direction: column;
      position: sticky; top: 0; height: 100vh; overflow-y: auto;
    }
    .sidebar-logo {
      padding: 28px 24px 20px; border-bottom: 1px solid rgba(255,255,255,0.1);
      display: flex; align-items: center; gap: 12px;
    }
    .sidebar-logo img { width: 44px; height: 44px; object-fit: contain; }
    .sidebar-logo-text { font-size: 13px; font-weight: 700; color: white; line-height: 1.3; }
    .sidebar-logo-sub { font-size: 11px; color: rgba(255,255,255,0.6); font-weight: 400; }
    .sidebar-nav { padding: 16px 12px; flex: 1; }
    .nav-label { font-size: 10px; font-weight: 700; letter-spacing: 1.5px; color: rgba(255,255,255,0.4); text-transform: uppercase; padding: 8px 12px 6px; }
    .nav-item {
      display: flex; align-items: center; gap: 10px; padding: 11px 14px;
      border-radius: 10px; color: rgba(255,255,255,0.75); font-size: 14px; font-weight: 500;
      cursor: pointer; transition: all 0.2s; margin-bottom: 2px; border: none; background: none; width: 100%; text-align: left;
    }
    .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
    .nav-item.active { background: rgba(255,255,255,0.18); color: white; font-weight: 700; }
    .nav-item .nav-icon { font-size: 18px; width: 22px; text-align: center; flex-shrink: 0; }
    .sidebar-bottom { padding: 16px 12px; border-top: 1px solid rgba(255,255,255,0.1); }
    .admin-info { padding: 12px 14px; display: flex; align-items: center; gap: 10px; }
    .admin-avatar {
      width: 36px; height: 36px; background: rgba(255,255,255,0.2);
      border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 800; color: white; flex-shrink: 0;
    }
    .admin-name { font-size: 13px; font-weight: 600; color: white; }
    .admin-role { font-size: 11px; color: rgba(255,255,255,0.5); }
    .btn-logout-sidebar {
      width: 100%; padding: 10px; background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.15); border-radius: 10px;
      color: rgba(255,255,255,0.7); font-size: 13px; font-weight: 600;
      cursor: pointer; transition: all 0.2s; margin-top: 8px;
    }
    .btn-logout-sidebar:hover { background: rgba(255,255,255,0.15); color: white; }

    /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
    .main-area { flex: 1; min-width: 0; }
    .topbar {
      background: white; padding: 16px 28px;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid var(--gris-100);
      position: sticky; top: 0; z-index: 50;
      box-shadow: var(--sombra-sm);
    }
    .topbar-title { font-size: 20px; font-weight: 800; color: var(--gris-900); }
    .topbar-subtitle { font-size: 13px; color: var(--gris-500); }
    .content { padding: 28px; }

    /* ‚îÄ‚îÄ TABS ‚îÄ‚îÄ */
    .tab-panel { display: none; }
    .tab-panel.active { display: block; }

    /* ‚îÄ‚îÄ STATS ‚îÄ‚îÄ */
    .stats-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 16px; margin-bottom: 28px; }
    .stat-card {
      background: white; border-radius: 16px; padding: 20px 24px;
      box-shadow: var(--sombra-sm); border-top: 4px solid;
    }
    .stat-card:nth-child(1) { border-color: var(--verde-medio); }
    .stat-card:nth-child(2) { border-color: var(--normal); }
    .stat-card:nth-child(3) { border-color: var(--importante); }
    .stat-card:nth-child(4) { border-color: var(--verde-oscuro); }
    .stat-num { font-size: 32px; font-weight: 900; color: var(--gris-900); line-height: 1; }
    .stat-label { font-size: 13px; color: var(--gris-500); margin-top: 6px; font-weight: 500; }

    /* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ */
    .section-header {
      display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
    }
    .section-title { font-size: 18px; font-weight: 800; color: var(--gris-900); }
    .section-desc { font-size: 13px; color: var(--gris-500); margin-top: 2px; }

    /* ‚îÄ‚îÄ POSTS LIST ‚îÄ‚îÄ */
    .admin-post-card {
      background: white; border-radius: 16px; padding: 20px 24px;
      margin-bottom: 12px; box-shadow: var(--sombra-sm);
      border-left: 4px solid var(--gris-200);
      transition: box-shadow 0.2s;
    }
    .admin-post-card:hover { box-shadow: var(--sombra-md); }
    .admin-post-card.urgente { border-left-color: var(--urgente); }
    .admin-post-card.importante { border-left-color: var(--importante); }
    .admin-post-card.normal { border-left-color: var(--normal); }
    .post-card-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 16px; margin-bottom: 10px; }
    .post-card-left { flex: 1; min-width: 0; }
    .post-card-title { font-size: 16px; font-weight: 700; color: var(--gris-900); margin-bottom: 6px; }
    .post-card-badges { display: flex; flex-wrap: wrap; gap: 6px; }
    .post-card-actions { display: flex; gap: 8px; flex-shrink: 0; }
    .post-card-preview { font-size: 14px; color: var(--gris-600); line-height: 1.5; margin-bottom: 12px; }
    .post-card-meta { display: flex; gap: 16px; font-size: 12px; color: var(--gris-400); }

    /* ‚îÄ‚îÄ SIGLAS GRID ‚îÄ‚îÄ */
    .siglas-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; }
    .sigla-card {
      background: white; border-radius: 14px; padding: 16px;
      box-shadow: var(--sombra-sm); border-top: 4px solid;
      transition: box-shadow 0.2s;
    }
    .sigla-card:hover { box-shadow: var(--sombra-md); }
    .sigla-header { display: flex; justify-content: space-between; align-items: flex-start; }
    .sigla-code { font-size: 28px; font-weight: 900; color: var(--gris-900); }
    .sigla-name { font-size: 14px; font-weight: 600; color: var(--gris-700); margin-top: 2px; }
    .sigla-time { font-size: 12px; color: var(--gris-500); margin-top: 4px; }
    .sigla-actions { display: flex; gap: 6px; }

    /* ‚îÄ‚îÄ EXCEL ‚îÄ‚îÄ */
    .excel-zone {
      border: 2.5px dashed var(--gris-300); border-radius: 16px;
      padding: 40px; text-align: center; cursor: pointer;
      transition: all 0.2s; background: var(--gris-50);
    }
    .excel-zone:hover { border-color: var(--verde-medio); background: #f0faf4; }
    .excel-zone-icon { font-size: 48px; margin-bottom: 12px; }
    .excel-zone h3 { color: var(--gris-700); margin-bottom: 6px; }
    .excel-zone p { color: var(--gris-500); font-size: 14px; margin: 0; }
    .excel-preview { background: white; border-radius: 16px; padding: 24px; margin-top: 20px; box-shadow: var(--sombra-sm); display: none; }
    .preview-rows { max-height: 200px; overflow-y: auto; background: var(--gris-50); border-radius: 10px; padding: 12px; margin-top: 12px; font-size: 13px; }
    .preview-row { padding: 4px 0; color: var(--gris-700); border-bottom: 1px solid var(--gris-100); }
    .preview-row:last-child { border: none; }

    /* ‚îÄ‚îÄ FORM MODAL ‚îÄ‚îÄ */
    .color-picker-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .color-dot {
      width: 32px; height: 32px; border-radius: 50%; cursor: pointer;
      border: 3px solid transparent; transition: all 0.2s;
    }
    .color-dot.selected { border-color: var(--gris-900); transform: scale(1.2); }
    .radio-row { display: flex; gap: 20px; margin-top: 6px; }
    .radio-opt { display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 14px; font-weight: 500; }
    .radio-opt input { width: auto; margin: 0; }

    /* ‚îÄ‚îÄ RECIPIENT SEARCH ‚îÄ‚îÄ */
    .recipient-search-box {
      position: relative; margin-bottom: 12px;
    }
    .recipient-search-input {
      padding-left: 40px !important;
    }
    .recipient-search-icon {
      position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
      color: var(--gris-400); font-size: 16px; pointer-events: none;
    }
    .recipient-results {
      max-height: 200px; overflow-y: auto; border: 1.5px solid var(--gris-200);
      border-radius: 12px; background: white; margin-bottom: 12px;
    }
    .recipient-item {
      display: flex; align-items: center; gap: 12px; padding: 10px 14px;
      cursor: pointer; transition: background 0.15s; border-bottom: 1px solid var(--gris-50);
    }
    .recipient-item:last-child { border-bottom: none; }
    .recipient-item:hover { background: var(--gris-50); }
    .recipient-item input[type="checkbox"] { width: auto; margin: 0; flex-shrink: 0; }
    .recipient-item-name { font-size: 14px; font-weight: 600; color: var(--gris-900); }
    .recipient-item-info { font-size: 12px; color: var(--gris-500); }
    .selected-chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; min-height: 32px; }
    .chip {
      display: inline-flex; align-items: center; gap: 6px; padding: 5px 12px;
      background: var(--verde-claro); color: var(--verde-oscuro);
      border-radius: 20px; font-size: 13px; font-weight: 600;
    }
    .chip-remove {
      background: none; border: none; cursor: pointer; color: var(--verde-oscuro);
      font-size: 16px; padding: 0; line-height: 1;
    }
    .recipients-count { font-size: 13px; color: var(--gris-600); margin-bottom: 8px; font-weight: 600; }

    /* ‚îÄ‚îÄ FILE UPLOAD ‚îÄ‚îÄ */
    .file-drop-zone {
      border: 2px dashed var(--gris-300); border-radius: 12px; padding: 24px;
      text-align: center; cursor: pointer; transition: all 0.2s; background: var(--gris-50);
    }
    .file-drop-zone:hover, .file-drop-zone.drag-over { border-color: var(--verde-medio); background: #f0faf4; }
    .file-preview-box {
      display: none; background: var(--verde-claro); border-radius: 10px;
      padding: 12px 16px; font-size: 13px; color: var(--verde-oscuro);
      font-weight: 600; align-items: center; justify-content: space-between;
    }
    .file-preview-box.show { display: flex; }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 900px) {
      .sidebar { display: none; }
      .stats-grid { grid-template-columns: repeat(2,1fr); }
    }
    @media (max-width: 600px) {
      .content { padding: 16px; }
      .stats-grid { grid-template-columns: 1fr 1fr; gap: 10px; }
      .topbar { padding: 12px 16px; }
    }
  </style>
</head>
<body>

<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <img src="https://res.cloudinary.com/dw61kjdzf/image/upload/v1771156496/escudo-carabineros.png_dnb80x.png" alt="Escudo" onerror="this.style.display='none'">
      <div>
        <div class="sidebar-logo-text">Carabineros</div>
        <div class="sidebar-logo-sub">4ta. Com. Chacalluta</div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-label">Panel Principal</div>
      <button class="nav-item active" data-tab="tab-dashboard">
        <span class="nav-icon">üìä</span> Dashboard
      </button>
      <button class="nav-item" data-tab="tab-posts">
        <span class="nav-icon">üì¢</span> Publicaciones
      </button>
      <button class="nav-item" data-tab="tab-servicios">
        <span class="nav-icon">üìÖ</span> Servicios
      </button>
      <div class="nav-label" style="margin-top:12px">Configuraci√≥n</div>
      <button class="nav-item" data-tab="tab-siglas">
        <span class="nav-icon">üè∑Ô∏è</span> Siglas
      </button>
    </nav>

    <div class="sidebar-bottom">
      <div class="admin-info">
        <div class="admin-avatar" id="admin-avatar">AD</div>
        <div>
          <div class="admin-name" id="admin-name">Admin</div>
          <div class="admin-role">Administrador</div>
        </div>
      </div>
      <button class="btn-logout-sidebar" id="logout-btn">üö™ Cerrar Sesi√≥n</button>
    </div>
  </aside>

  <!-- MAIN -->
  <div class="main-area">
    <div class="topbar">
      <div>
        <div class="topbar-title" id="topbar-title">Dashboard</div>
        <div class="topbar-subtitle" id="topbar-subtitle">Resumen del sistema</div>
      </div>
      <div style="font-size:13px;color:var(--gris-500)" id="topbar-date"></div>
    </div>

    <div class="content">

      <!-- DASHBOARD -->
      <div id="tab-dashboard" class="tab-panel active">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-num" id="stat-posts">‚Äî</div>
            <div class="stat-label">üì¢ Publicaciones activas</div>
          </div>
          <div class="stat-card">
            <div class="stat-num" id="stat-users">‚Äî</div>
            <div class="stat-label">üë• Funcionarios</div>
          </div>
          <div class="stat-card">
            <div class="stat-num" id="stat-services">‚Äî</div>
            <div class="stat-label">üìÖ Servicios hoy</div>
          </div>
          <div class="stat-card">
            <div class="stat-num" id="stat-siglas">‚Äî</div>
            <div class="stat-label">üè∑Ô∏è Siglas activas</div>
          </div>
        </div>
        <div style="background:white;border-radius:16px;padding:24px;box-shadow:var(--sombra-sm)">
          <h3 style="margin-bottom:16px;color:var(--gris-700)">Accesos r√°pidos</h3>
          <div style="display:flex;flex-wrap:wrap;gap:12px">
            <button class="btn btn-primary" id="quick-post-btn">‚úèÔ∏è Nueva publicaci√≥n</button>
            <button class="btn btn-secondary" id="quick-excel-btn">üìä Cargar servicios Excel</button>
            <button class="btn btn-secondary" id="quick-sigla-btn">üè∑Ô∏è Nueva sigla</button>
          </div>
        </div>
      </div>

      <!-- PUBLICACIONES -->
      <div id="tab-posts" class="tab-panel">
        <div class="section-header">
          <div>
            <div class="section-title">Publicaciones</div>
            <div class="section-desc">Comunicados, citaciones y noticias internas</div>
          </div>
          <button class="btn btn-primary" id="create-post-btn">‚úèÔ∏è Nueva publicaci√≥n</button>
        </div>
        <div id="posts-list">
          <div style="text-align:center;padding:48px;color:var(--gris-400)">Cargando...</div>
        </div>
      </div>

      <!-- SERVICIOS -->
      <div id="tab-servicios" class="tab-panel">
        <div class="section-header">
          <div>
            <div class="section-title">Gesti√≥n de Servicios</div>
            <div class="section-desc">Carga masiva desde planilla Excel</div>
          </div>
          <button class="btn btn-primary" id="upload-excel-btn">üìä Cargar Excel</button>
        </div>
        <div style="background:white;border-radius:16px;padding:24px;box-shadow:var(--sombra-sm)">
          <h4 style="margin-bottom:8px">Formato del archivo Excel</h4>
          <p style="font-size:14px;color:var(--gris-600)">La primera columna debe contener el <strong>n√∫mero de placa</strong> del funcionario. Las columnas siguientes deben ser fechas con la <strong>sigla del servicio</strong> en cada celda.</p>
          <div style="background:var(--gris-50);border-radius:10px;padding:16px;margin-top:12px;font-family:monospace;font-size:13px;overflow-x:auto">
            <div style="display:grid;grid-template-columns:repeat(5,auto);gap:8px 16px;color:var(--gris-700)">
              <strong>Placa</strong><strong>01-Feb</strong><strong>02-Feb</strong><strong>03-Feb</strong><strong>04-Feb</strong>
              <span>996780T</span><span>A</span><span>A</span><span>B</span><span>D</span>
              <span>123456T</span><span>B</span><span>D</span><span>A</span><span>F</span>
            </div>
          </div>
        </div>
      </div>

      <!-- SIGLAS -->
      <div id="tab-siglas" class="tab-panel">
        <div class="section-header">
          <div>
            <div class="section-title">Siglas de Servicio</div>
            <div class="section-desc">C√≥digos usados en los turnos</div>
          </div>
          <button class="btn btn-primary" id="create-sigla-btn">+ Nueva sigla</button>
        </div>
        <div class="siglas-grid" id="siglas-grid">
          <div style="text-align:center;padding:32px;color:var(--gris-400);grid-column:1/-1">Cargando...</div>
        </div>
      </div>

    </div><!-- /content -->
  </div><!-- /main-area -->
</div><!-- /layout -->


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- MODAL: NUEVA PUBLICACI√ìN               -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="create-post-modal" class="modal hidden">
  <div class="modal-content" style="max-width:700px">
    <div class="modal-header">
      <h2>‚úèÔ∏è Nueva Publicaci√≥n</h2>
      <button class="close-modal-btn" data-close="create-post-modal">‚úï</button>
    </div>

    <form id="post-form">
      <div class="form-group">
        <label>T√≠tulo *</label>
        <input type="text" name="title" placeholder="Ej: Citaci√≥n urgente personal turno ma√±ana" required maxlength="200">
      </div>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
        <div class="form-group">
          <label>Prioridad *</label>
          <select name="priority" required>
            <option value="normal">üìã Normal</option>
            <option value="importante">‚ö†Ô∏è Importante</option>
            <option value="urgente">üö® Urgente</option>
          </select>
        </div>
        <div class="form-group">
          <label>Categor√≠a *</label>
          <select name="category" required>
            <option value="administrativo">üìã Administrativo</option>
            <option value="operaciones">üéØ Operaciones</option>
            <option value="formacion">üéì Formaci√≥n</option>
            <option value="transito">üöó Tr√°nsito</option>
            <option value="preventivo">üõ°Ô∏è Preventivo</option>
            <option value="investigaciones">üîç Investigaciones</option>
            <option value="bienestar">üíö Bienestar</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>Contenido *</label>
        <textarea name="content" rows="5" placeholder="Detalle de la publicaci√≥n..." required style="resize:vertical"></textarea>
      </div>

      <!-- Tipo de publicaci√≥n -->
      <div class="form-group">
        <label>Tipo de publicaci√≥n</label>
        <div class="radio-row">
          <label class="radio-opt">
            <input type="radio" name="post_type" value="public" checked onchange="toggleRecipients()">
            üì¢ P√∫blica (todos los funcionarios)
          </label>
          <label class="radio-opt">
            <input type="radio" name="post_type" value="private" onchange="toggleRecipients()">
            üîí Privada (destinatarios espec√≠ficos)
          </label>
        </div>
      </div>

      <!-- Selector de destinatarios -->
      <div id="recipients-selector" class="form-group" style="display:none;background:var(--gris-50);padding:16px;border-radius:12px;border:1.5px solid var(--gris-200)">
        <label style="margin-bottom:12px">Buscar destinatarios</label>
        <div class="recipient-search-box">
          <span class="recipient-search-icon">üîç</span>
          <input type="text" id="recipient-search" class="recipient-search-input" placeholder="Buscar por nombre, grado o N¬∞ placa..." autocomplete="off">
        </div>
        <div class="recipient-results" id="recipient-results">
          <div style="padding:16px;text-align:center;color:var(--gris-400);font-size:14px">Escribe para buscar funcionarios</div>
        </div>
        <div class="recipients-count" id="recipients-count">0 destinatarios seleccionados</div>
        <div class="selected-chips" id="selected-chips"></div>
      </div>

      <!-- Adjunto -->
      <div class="form-group">
        <label>Archivo adjunto (opcional)</label>
        <div class="file-drop-zone" id="file-drop-zone">
          <div style="font-size:32px;margin-bottom:8px">üìé</div>
          <div style="font-weight:600;color:var(--gris-700);margin-bottom:4px">Arrastra o haz clic para adjuntar</div>
          <div style="font-size:13px;color:var(--gris-500)">PDF, Word, Excel, im√°genes ‚Äî m√°x. 10MB</div>
          <input type="file" id="file-input" style="display:none" accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.webp">
        </div>
        <div class="file-preview-box" id="file-preview-box">
          <span id="file-name-label">‚Äî</span>
          <button type="button" id="remove-file-btn" style="background:none;border:none;cursor:pointer;font-size:18px;color:var(--gris-600)">‚úï</button>
        </div>
      </div>

      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:8px">
        <button type="button" class="btn btn-secondary" data-close="create-post-modal">Cancelar</button>
        <button type="submit" class="btn btn-primary" id="post-submit-btn">Publicar</button>
      </div>
    </form>
  </div>
</div>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- MODAL: SIGLA                           -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="sigla-modal" class="modal hidden">
  <div class="modal-content" style="max-width:480px">
    <div class="modal-header">
      <h2 id="sigla-modal-title">Nueva Sigla</h2>
      <button class="close-modal-btn" data-close="sigla-modal">‚úï</button>
    </div>
    <form id="sigla-form">
      <input type="hidden" id="sigla-id">
      <div style="display:grid;grid-template-columns:1fr 2fr;gap:16px">
        <div class="form-group">
          <label>C√≥digo * (m√°x. 5)</label>
          <input type="text" id="sigla-code" maxlength="5" placeholder="Ej: A" required style="text-transform:uppercase">
        </div>
        <div class="form-group">
          <label>Nombre *</label>
          <input type="text" id="sigla-name" placeholder="Ej: Servicio Ma√±ana" required>
        </div>
      </div>

      <div class="form-group">
        <label>Tipo de servicio</label>
        <div class="radio-row">
          <label class="radio-opt">
            <input type="radio" name="is_rest" value="false" checked onchange="toggleHorarios()">
            Servicio activo
          </label>
          <label class="radio-opt">
            <input type="radio" name="is_rest" value="true" onchange="toggleHorarios()">
            Descanso / Franco
          </label>
        </div>
      </div>

      <div id="horario-fields">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
          <div class="form-group">
            <label>Hora inicio</label>
            <input type="time" id="sigla-start">
          </div>
          <div class="form-group">
            <label>Hora fin</label>
            <input type="time" id="sigla-end">
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Color identificador</label>
        <div class="color-picker-row" id="color-picker">
          <div class="color-dot selected" data-color="#2d8b4d" style="background:#2d8b4d"></div>
          <div class="color-dot" data-color="#3b82f6" style="background:#3b82f6"></div>
          <div class="color-dot" data-color="#8b5cf6" style="background:#8b5cf6"></div>
          <div class="color-dot" data-color="#ef4444" style="background:#ef4444"></div>
          <div class="color-dot" data-color="#f59e0b" style="background:#f59e0b"></div>
          <div class="color-dot" data-color="#ec4899" style="background:#ec4899"></div>
          <div class="color-dot" data-color="#14b8a6" style="background:#14b8a6"></div>
          <div class="color-dot" data-color="#9ca3af" style="background:#9ca3af"></div>
          <div class="color-dot" data-color="#1f2937" style="background:#1f2937"></div>
        </div>
        <input type="hidden" id="sigla-color" value="#2d8b4d">
      </div>

      <div style="display:flex;gap:12px;justify-content:flex-end">
        <button type="button" class="btn btn-secondary" data-close="sigla-modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">Guardar sigla</button>
      </div>
    </form>
  </div>
</div>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- MODAL: EXCEL                           -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="excel-modal" class="modal hidden">
  <div class="modal-content" style="max-width:640px">
    <div class="modal-header">
      <h2>üìä Carga masiva de Servicios</h2>
      <button class="close-modal-btn" data-close="excel-modal">‚úï</button>
    </div>

    <div class="excel-zone" id="excel-drop-zone">
      <div class="excel-zone-icon">üìÇ</div>
      <h3>Selecciona tu planilla Excel</h3>
      <p>Formato: primera columna = N¬∞ placa, columnas siguientes = fechas</p>
      <input type="file" id="excel-input" accept=".xlsx,.xls,.csv" style="display:none">
      <button type="button" class="btn btn-primary" style="margin-top:16px" onclick="document.getElementById('excel-input').click()">Seleccionar archivo</button>
    </div>

    <div class="excel-preview" id="excel-preview">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
        <h4 id="excel-preview-title">Vista previa</h4>
        <span class="badge badge-exito" id="excel-count-badge">0 servicios</span>
      </div>
      <div id="excel-stats" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px"></div>
      <div class="preview-rows" id="preview-rows"></div>
      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:20px">
        <button type="button" class="btn btn-secondary" data-close="excel-modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="confirm-upload-btn">‚úÖ Confirmar carga</button>
      </div>
    </div>
  </div>
</div>

<!-- SheetJS for Excel -->
<script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
<script type="module" src="js/admin.js"></script>
</body>
</html>
